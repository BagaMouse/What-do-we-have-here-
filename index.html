<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Protocol: Operațiunea Secretă</title>

<meta property="og:title" content="Acces Protocol Securizat" />
<meta property="og:description" content="Sistemul necesită autorizare pentru a afișa datele." />

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono:wght@300;400&display=swap" rel="stylesheet">

<style>
  :root {
    --bg-color: #0b141a; /* Bleumarin închis (Pandemic board) */
    --accent-blue: #00d4ff; /* Albastru neon/teal */
    --danger-red: #ff4d4d;
    --card-bg: #162633;
    --text-color: #e0e0e0;
  }

  body { 
    font-family: 'Roboto Mono', monospace; 
    background-color: var(--bg-color); 
    background-image: radial-gradient(circle at center, #1b2d3d 0%, #0b141a 100%);
    color: var(--text-color);
    padding: 20px;
    margin: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }

  h1 { 
    font-family: 'Orbitron', sans-serif; 
    color: var(--accent-blue); 
    text-transform: uppercase;
    letter-spacing: 4px;
    text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
    border-bottom: 2px solid var(--accent-blue);
    padding-bottom: 10px;
    margin-bottom: 30px;
    text-align: center;
  }

  section { 
    background: var(--card-bg); 
    border-left: 4px solid var(--accent-blue);
    padding: 25px;
    border-radius: 4px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    margin-bottom: 20px;
    width: 100%;
    max-width: 500px;
    animation: fadeIn 0.5s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  h2 { 
    font-family: 'Orbitron', sans-serif; 
    font-size: 1.2rem; 
    margin-top: 0; 
    color: var(--accent-blue);
  }

  p { line-height: 1.6; font-size: 0.9rem; }

  /* Grila tip Noduri de Orașe */
  .grid { 
    display: grid; 
    grid-template-columns: repeat(7, 1fr); 
    gap: 8px; 
    margin: 20px 0; 
  }

  .cell { 
    aspect-ratio: 1/1;
    background: rgba(255, 255, 255, 0.05); 
    border: 1px solid rgba(0, 212, 255, 0.2); 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    cursor: pointer; 
    font-size: 18px; 
    transition: all 0.3s;
    border-radius: 2px;
  }

  .cell:hover { 
    background: rgba(0, 212, 255, 0.2); 
    box-shadow: 0 0 8px var(--accent-blue);
  }

  /* Input-uri și Butoane tactice */
  input {
    background: #0b141a;
    border: 1px solid var(--accent-blue);
    color: white;
    padding: 10px;
    width: calc(100% - 22px);
    margin-bottom: 15px;
    font-family: 'Roboto Mono', monospace;
  }

  .btn { 
    width: 100%;
    padding: 12px; 
    background: var(--accent-blue); 
    color: #0b141a; 
    border: none; 
    cursor: pointer; 
    font-weight: bold; 
    text-transform: uppercase;
    font-family: 'Orbitron', sans-serif;
    transition: 0.3s;
  }

  .btn:hover { background: #fff; box-shadow: 0 0 15px #fff; }

  .hidden { display: none; }

  #p1msg, #p2msg, #p3msg, #p4msg, #metamsg {
    margin-top: 15px;
    color: #4df3ff;
    font-weight: bold;
    font-size: 0.85rem;
  }

  #qr { 
    margin-top: 20px; 
    background: white; 
    padding: 15px; 
    border-radius: 8px;
    display: inline-block;
  }
</style>
</head>
<body>

<h1>Protocol Analiză</h1>

<section id="p1">
<h2>Analiză Noduri #1</h2>
<p>Accesul necesită identificarea subiectului special.<br>O singură coordonată este activă.</p>
<div class="grid" id="grid1"></div>
<p id="p1msg"></p>
</section>

<section id="p2" class="hidden">
<h2>Analiză Izotopi</h2>
<p>Eșantionul DULCIUM-20 detectat. Numărul atomic este cheia accesului în baza de date.</p>
<input id="p2input" placeholder="Introdu valoarea atomică" />
<button class="btn" onclick="solveP2()">Verifică Amprenta</button>
<p id="p2msg"></p>
</section>

<section id="p3" class="hidden">
<h2>Analiză Temporală</h2>
<p>Sincronizare necesară. Scade o unitate lunară pentru a recalibra codul de acces.</p>
<div class="grid" id="grid3"></div>
<p id="p3msg"></p>
</section>

<section id="p4" class="hidden">
<h2>Sinteză Finală</h2>
<p>Alege mixul corect din cele 5 componente. Suma lor trebuie să corespundă SECRETULUI.</p>
<input id="p4input" placeholder="Suma sistemului" />
<button class="btn" onclick="solveP4()">Sintetizează</button>
<p id="p4msg"></p>
</section>

<section id="meta" class="hidden">
<h2>Autorizare Finală</h2>
<p>Introdu secvența de litere obținută pentru decriptarea fișierului.</p>
<input id="metaInput" maxlength="4" style="text-align: center; font-size: 24px; letter-spacing: 5px;"/>
<button class="btn" onclick="checkMeta()">DECRIPTEAZĂ</button>
<p id="metamsg"></p>
<div id="qr" class="hidden"></div>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
<script>
// PUZZLE 1
const grid1 = document.getElementById('grid1');
for(let i=1;i<=28;i++){
  const c=document.createElement('div');
  c.className='cell';
  c.textContent='•';
  c.onclick=()=>{
    if(i===10){
      c.textContent='S';
      c.style.color='var(--accent-blue)';
      document.getElementById('p1msg').textContent='✔ SECVENȚĂ DEBLOCATĂ: LITERĂ "S"';
      document.getElementById('p2').classList.remove('hidden');
    }
  };
  grid1.appendChild(c);
}

// PUZZLE 2
function solveP2(){
  const val = document.getElementById('p2input').value;
  if(val==='20'){
    document.getElementById('p2msg').textContent='✔ AMPRENTĂ VALIDĂ: LITERĂ "N"';
    document.getElementById('p3').classList.remove('hidden');
  } else {
    document.getElementById('p2msg').textContent='✖ EROARE SISTEM: REÎNCERCAȚI.';
    document.getElementById('p2msg').style.color='var(--danger-red)';
  }
}

// PUZZLE 3
const grid3 = document.getElementById('grid3');
for(let i=1;i<=28;i++){
  const c=document.createElement('div');
  c.className='cell';
  c.textContent='•';
  c.onclick=()=>{
    if(i===26){
      c.textContent='I';
      c.style.color='var(--accent-blue)';
      document.getElementById('p3msg').textContent='✔ SECVENȚĂ DEBLOCATĂ: LITERĂ "I"';
      document.getElementById('p4').classList.remove('hidden');
    }
  };
  grid3.appendChild(c);
}

// PUZZLE 4
function solveP4(){
  const val = document.getElementById('p4input').value;
  if(val==='10'){
    document.getElementById('p4msg').textContent='✔ CALCUL CORECT: LITERĂ "A"';
    document.getElementById('meta').classList.remove('hidden');
  } else {
    document.getElementById('p4msg').textContent='✖ CALIBRARE EȘUATĂ.';
    document.getElementById('p4msg').style.color='var(--danger-red)';
  }
}

// META
function checkMeta(){
  const v=document.getElementById('metaInput').value.toUpperCase();
  if(v==='NASI'){
    document.getElementById('metamsg').innerHTML='CONSTRUCȚIE FINALIZATĂ.<br>Scanează codul de acces de mai jos:';
    document.getElementById('qr').classList.remove('hidden');
    const qr = new QRious({
      element: document.createElement('canvas'),
      size: 240,
      value: 'https://drive.google.com/file/d/1luVwZPGp_fUOD-PjXtG-56CXuDujUSWh/view?usp=drive_link'
    });
    const qrDiv = document.getElementById('qr');
    qrDiv.innerHTML = '';
    qrDiv.appendChild(qr.element);
  } else {
    document.getElementById('metamsg').textContent='ACCES REFUZAT. COD INVALID.';
    document.getElementById('metamsg').style.color='var(--danger-red)';
  }
}
</script>
</body>
</html>
